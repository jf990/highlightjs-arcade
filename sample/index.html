<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>highlight.js for Arcade</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/dark.min.css">
</head>
<body>
  <h1>highlight.js for Arcade</h1>
  <p>Example that demonstrates using <a href="https://highlightjs.org/usage/">Highlight.js</a> with the <a href="https://developers.arcgis.com/arcade/">ArcGIS Arcade</a> expression language.</p>
  <div id="arcade">
    <pre><code class="arcade">
      /* This is Arcade code */
      function getFeatureValue(parameter)
      {
         var d = Dictionary("field1", Geometry($feature), "field2", Concatenate(DefaultValue(5), PI));
         var c = {
                "field1": $feature.value,
                "field2": $view.width
         }
         if (parameter == undefined) {
            parameter = Extent($view)
         }
         return d.field1 + d["field2"];   // Can access elements with either notation
      }
    </code></pre>
  </div>
  <p>Example that demonstrates using Arcade profile and latest functions.</p>
  <div id="arcade">
    <pre><code class="arcade">
    /*
      Isolated test for the most recent version
    */
    function offsetPopulation(offset){
      var popDensity = Round( $feature.POPULATION / AreaGeodetic(Geometry($feature), "square-kilometers") );
      iif (city1.pop > city2.pop, city1, Reduce(cities, mostPopulated));
      var geom = Geometry({ 'x': offset.x, 'y': offset.y, 'spatialReference':{'wkid':102100} });
      var myLayer = FeatureSet($map, ["POPULATION", "ELECTION-DATA"]);
      return popDensity;
    }
    </code></pre>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
  <script src="../dist/arcade.min.js"></script>

  <script>
    if (hljs.getLanguage("arcade") == undefined) {
      alert("Arcade is not loaded.");
    }
    hljs.highlightAll();
  </script>
</body>
</html>
